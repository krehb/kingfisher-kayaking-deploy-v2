{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jdk17\\\\Desktop\\\\KingFisher\\\\kingfisher-kayaking\\\\src\\\\Componets\\\\SelectionForm\\\\SelectionForm.js\";\nimport React, { useState } from 'react';\nimport { Form, Col, Container, Row, OverlayTrigger, Tooltip, Alert } from 'react-bootstrap';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport firebase from 'firebase';\nimport moment from 'moment';\nimport emailjs from 'emailjs-com';\nimport { useHistory } from \"react-router-dom\";\n\nfunction SelectionFrom({\n  kayaks,\n  route,\n  value,\n  kayaksInStock,\n  setViewing,\n  setFormView,\n  setFormData\n}) {\n  const [tripName, SetTripName] = useState('no trip name');\n  const [kayaksTaking, setKayaksTaking] = useState();\n  const [startTime, setTime] = useState('8am');\n  const [location, setLocation] = useState('MarketPlace Mall (North East Corner)');\n  const [otherLoaction, SetOtherLocation] = useState('not selected');\n  const [email, setEmail] = useState('not selected');\n  const [ifChecked, setChecked] = useState();\n  const [alertCheck, setAlertCheck] = useState(false); // firebase requirements\n\n  const database = firebase.database();\n  const ref = database.ref('bookings');\n  const booking = {\n    route: route,\n    name: tripName,\n    numOfKayaks: kayaksTaking,\n    time: startTime,\n    pickUpLocation: location,\n    other: otherLoaction,\n    date: value.format(\"MM/DD/YY\"),\n    email: email,\n    timeBooked: moment().format('MMMM Do YYYY, h:mm:ss a')\n  }; //submitting form to firebase database\n\n  const submitHandler = () => {\n    if (kayaksTaking > 0 && ifChecked) {\n      console.log('booking sent');\n      ref.push(booking);\n    } else {\n      console.log('erroror');\n      console.log(ifChecked);\n    }\n  }; //routing for the 'continue' button\n\n\n  let history = useHistory();\n\n  function handleClick() {\n    history.push(`/booking/${route}/form/pay`);\n  } //render error if form isn't fully filled\n\n\n  const continueButtonHandler = () => {\n    if (kayaksTaking === 0 || kayaksTaking === undefined || email === '' || email === 'not selected' || ifChecked === undefined || ifChecked === false || tripName === 'no trip name') {\n      setAlertCheck(true);\n    } else {\n      setAlertCheck(false);\n      setFormData(booking);\n      handleClick();\n    }\n  };\n\n  let ifAlert = null;\n\n  if (alertCheck) {\n    ifAlert = /*#__PURE__*/React.createElement(Alert, {\n      variant: \"warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }\n    }, \"You need to fill out the whole form and agree to continue\");\n  } else {\n    ifAlert = null;\n  } // dynamic Kayaks Option\n\n\n  let kayaksOptions = null; //rendering nonBooked days\n\n  let renderKayaksOptions = [];\n\n  for (let i = 0; i < kayaksInStock + 1; i++) {\n    renderKayaksOptions.push(i);\n    kayaksOptions = renderKayaksOptions.map(x => /*#__PURE__*/React.createElement(\"option\", {\n      value: x,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 50\n      }\n    }, x, \" kayak(s)\"));\n  } //rendering booked days\n\n\n  let datesBookArray = [];\n  let kayaksLeft = null;\n  let kayaksLeftArray = [];\n\n  const reducer = (accumulator, currentValue) => accumulator + currentValue; //when day is selected\n\n\n  kayaks.forEach(booking => {\n    if (value.isSame(booking.date, 'day')) {\n      let parsedKayaks = JSON.parse(booking.numOfKayaks);\n      datesBookArray.push(parsedKayaks);\n\n      if (datesBookArray.length > 1) {\n        // muliple bookings on single date\n        let kayaksBookedTotal = datesBookArray.reduce(reducer);\n        let calculatedLeft = kayaksInStock - kayaksBookedTotal;\n        kayaksLeft = calculatedLeft;\n      } else if (datesBookArray.length === 1) {\n        // single booking on single date\n        let calculatedLeft = kayaksInStock - parsedKayaks;\n        kayaksLeft = calculatedLeft;\n      }\n    }\n  }); // rendering the logic from above if selected day is booked\n\n  if (!(kayaksLeft === null)) {\n    for (let i = 0; i < kayaksLeft + 1; i++) {\n      kayaksLeftArray.push(i);\n    }\n\n    kayaksOptions = kayaksLeftArray.map(x => /*#__PURE__*/React.createElement(\"option\", {\n      value: x,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 50\n      }\n    }, x, \" kayak(s)\"));\n  }\n\n  function sendEmail(e) {\n    e.preventDefault();\n    console.log('was clicked');\n    emailjs.sendForm('service_n7gxrhi', 'template_eay3k5p', e.target, 'user_eKTDTnT6b5suYFim5twvR').then(result => {\n      console.log(result.text);\n    }, error => {\n      console.log(error.text);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"justify-content-md-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    className: \"form shadow\",\n    onSubmit: sendEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    value: route,\n    name: \"route\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    value: value.format('MM/DD/yy'),\n    name: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"user_name\",\n    value: tripName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"user_email\",\n    value: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"kayaksTaking\",\n    value: kayaksTaking,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"location\",\n    value: location,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"otherLocation\",\n    value: otherLoaction,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"startTime\",\n    value: startTime,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, ifAlert), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 25\n    }\n  }, \"Fill Out Info\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: \"map-marker-alt\",\n    size: \"1x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 29\n    }\n  }), \" \", route, \" on \", value.format('MM/DD/yy'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-body-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"formGridname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Ned Flanders\",\n    onChange: e => {\n      SetTripName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 33\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"formGridphone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"didlydo@yahoo.com\",\n    onChange: e => {\n      setEmail(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(OverlayTrigger, {\n    placement: \"top\",\n    overlay: /*#__PURE__*/React.createElement(Tooltip, {\n      id: \"tooltip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 42\n      }\n    }, \"This is where we will pick you up for the start of the trip\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 29\n    }\n  }, ({\n    ref,\n    ...triggerHandler\n  }) => /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    variant: \"light\"\n  }, triggerHandler, {\n    className: \"d-inline-flex align-items-center\",\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 33\n    }\n  }), \"Pick Up Location\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-body-middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    defaultValue: \"Choose...\",\n    onChange: e => {\n      setLocation(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 33\n    }\n  }, \"MarketPlace Mall (North East Corner)\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 33\n    }\n  }, \"LincolnSquare Mall (South Side)\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 33\n    }\n  }, \"Savoy Walmart (North East Corner)\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 33\n    }\n  }, \"Other (enter address below)\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"formGridname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"if selected 'Other'\",\n    onChange: e => {\n      SetOtherLocation(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    className: \"form-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 29\n    }\n  }, \"Start Time\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-body-bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    defaultValue: \"Choose...\",\n    onChange: e => {\n      setTime(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 33\n    }\n  }, \"8:00 am\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 33\n    }\n  }, \"9:30 am\"), /*#__PURE__*/React.createElement(\"option\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 33\n    }\n  }, \"11:00 am\"))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"formGridPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    as: \"select\",\n    defaultValue: \"Choose...\",\n    onChange: e => {\n      setKayaksTaking(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 33\n    }\n  }, kayaksOptions)))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    id: \"formGridCheckbox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    target: \"blank\",\n    href: 'https://media.makeameme.org/created/haha-got-you.jpg',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check, {\n    onChange: e => {\n      setChecked(e.target.checked);\n    },\n    type: \"checkbox\",\n    label: \"I agree to KingFisher Kayaking Terms of Service\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 33\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"nav-buttons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"arrow\",\n    onClick: continueButtonHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 29\n    }\n  }, \" Book \"), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: \"arrow-right\",\n    size: \"1x\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 48\n    }\n  })))))));\n}\n\nexport default SelectionFrom;","map":{"version":3,"sources":["C:/Users/jdk17/Desktop/KingFisher/kingfisher-kayaking/src/Componets/SelectionForm/SelectionForm.js"],"names":["React","useState","Form","Col","Container","Row","OverlayTrigger","Tooltip","Alert","FontAwesomeIcon","firebase","moment","emailjs","useHistory","SelectionFrom","kayaks","route","value","kayaksInStock","setViewing","setFormView","setFormData","tripName","SetTripName","kayaksTaking","setKayaksTaking","startTime","setTime","location","setLocation","otherLoaction","SetOtherLocation","email","setEmail","ifChecked","setChecked","alertCheck","setAlertCheck","database","ref","booking","name","numOfKayaks","time","pickUpLocation","other","date","format","timeBooked","submitHandler","console","log","push","history","handleClick","continueButtonHandler","undefined","ifAlert","kayaksOptions","renderKayaksOptions","i","map","x","datesBookArray","kayaksLeft","kayaksLeftArray","reducer","accumulator","currentValue","forEach","isSame","parsedKayaks","JSON","parse","length","kayaksBookedTotal","reduce","calculatedLeft","sendEmail","e","preventDefault","sendForm","target","then","result","text","error","triggerHandler","checked"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\r\nimport { Form, Col, Container, Row, OverlayTrigger, Tooltip, Alert } from 'react-bootstrap';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport firebase from 'firebase';\r\nimport moment from 'moment';\r\nimport emailjs from 'emailjs-com';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\n\r\nfunction SelectionFrom({ kayaks, route, value, kayaksInStock, setViewing, setFormView, setFormData,  }) {\r\n\r\n    const [tripName, SetTripName] = useState('no trip name');\r\n    const [kayaksTaking, setKayaksTaking] = useState();\r\n    const [startTime, setTime] = useState('8am');\r\n    const [location, setLocation] = useState('MarketPlace Mall (North East Corner)');\r\n    const [otherLoaction, SetOtherLocation] = useState('not selected');\r\n    const [email, setEmail] = useState('not selected');\r\n    const [ifChecked, setChecked] = useState();\r\n    const [alertCheck, setAlertCheck] = useState(false);\r\n\r\n\r\n  // firebase requirements\r\n  const database = firebase.database();\r\n  const ref = database.ref('bookings');\r\n\r\n\r\n  const booking = {\r\n    route: route,\r\n    name: tripName,\r\n    numOfKayaks: kayaksTaking,\r\n    time: startTime,\r\n    pickUpLocation: location,\r\n    other: otherLoaction,\r\n    date: value.format(\"MM/DD/YY\"),\r\n    email: email,\r\n    timeBooked: moment().format('MMMM Do YYYY, h:mm:ss a')\r\n  }\r\n\r\n  //submitting form to firebase database\r\n  const submitHandler = () => {\r\n    if(kayaksTaking > 0 && ifChecked){\r\n      console.log('booking sent');\r\n      ref.push(booking);\r\n    } else {\r\n      console.log('erroror')\r\n      console.log(ifChecked)\r\n    }\r\n  }\r\n\r\n  //routing for the 'continue' button\r\n  let history = useHistory();\r\n  function handleClick() {\r\n    history.push(`/booking/${route}/form/pay`);\r\n  }\r\n\r\n  //render error if form isn't fully filled\r\n  const continueButtonHandler = () => {\r\n      if(kayaksTaking === 0 || kayaksTaking === undefined || email === '' || email === 'not selected' || ifChecked === undefined || ifChecked === false || tripName === 'no trip name'){\r\n          setAlertCheck(true)\r\n      } else {\r\n          setAlertCheck(false)\r\n          setFormData(booking)\r\n          handleClick();\r\n      }\r\n  }\r\n\r\n  let ifAlert = null\r\n  if(alertCheck){\r\n    ifAlert = (\r\n        <Alert  variant='warning'>\r\n            You need to fill out the whole form and agree to continue\r\n        </Alert>\r\n      )\r\n  } else {\r\n      ifAlert = null\r\n  }\r\n\r\n\r\n\r\n// dynamic Kayaks Option\r\n  let kayaksOptions = null\r\n\r\n  //rendering nonBooked days\r\n  let renderKayaksOptions = []\r\n  for (let i = 0; i < kayaksInStock + 1; i++){\r\n    renderKayaksOptions.push(i)\r\n    kayaksOptions = renderKayaksOptions.map(x=> (<option value={x} >{x} kayak(s)</option>))\r\n  }\r\n\r\n\r\n  //rendering booked days\r\n  let datesBookArray = []\r\n  let kayaksLeft = null\r\n  let kayaksLeftArray = []\r\n  const reducer = (accumulator, currentValue) => accumulator + currentValue;\r\n\r\n    //when day is selected\r\n    kayaks.forEach(booking => {\r\n        if (value.isSame(booking.date, 'day') ) {\r\n            let parsedKayaks = JSON.parse(booking.numOfKayaks)\r\n            datesBookArray.push(parsedKayaks)\r\n\r\n            if(datesBookArray.length > 1){\r\n                // muliple bookings on single date\r\n                let kayaksBookedTotal = datesBookArray.reduce(reducer)\r\n                let calculatedLeft = kayaksInStock - kayaksBookedTotal\r\n                kayaksLeft = calculatedLeft\r\n\r\n            } else if (datesBookArray.length === 1){\r\n                // single booking on single date\r\n                let calculatedLeft = kayaksInStock - parsedKayaks\r\n                kayaksLeft = calculatedLeft\r\n            }\r\n        }\r\n    });\r\n\r\n    // rendering the logic from above if selected day is booked\r\n    if (!(kayaksLeft === null)){\r\n        for (let i = 0; i < kayaksLeft + 1; i++){\r\n            kayaksLeftArray.push(i)\r\n        }\r\n        kayaksOptions = kayaksLeftArray.map(x=> (<option value={x} >{x} kayak(s)</option>))\r\n    }\r\n\r\n\r\n\r\n    function sendEmail(e) {\r\n        e.preventDefault();\r\n        console.log('was clicked')\r\n        emailjs.sendForm('service_n7gxrhi', 'template_eay3k5p', e.target, 'user_eKTDTnT6b5suYFim5twvR')\r\n          .then((result) => {\r\n              console.log(result.text);\r\n          }, (error) => {\r\n              console.log(error.text);\r\n          });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Container fluid >\r\n            <Row className=\"justify-content-md-center\">\r\n                <Form  className='form shadow' onSubmit={sendEmail}>\r\n                    <input type=\"hidden\" value={route} name=\"route\" />\r\n                    <input type=\"hidden\" value={value.format('MM/DD/yy')} name=\"date\" />\r\n                    <input type=\"hidden\" name=\"user_name\" value={tripName} />\r\n                    <input type=\"hidden\" name=\"user_email\" value={email} />\r\n                    <input type=\"hidden\" name=\"kayaksTaking\" value={kayaksTaking} />\r\n                    <input type=\"hidden\" name=\"location\" value={location} />\r\n                    <input type=\"hidden\" name=\"otherLocation\" value={otherLoaction} />\r\n                    <input type=\"hidden\" name=\"startTime\" value={startTime} />\r\n\r\n                    <div>\r\n                        {ifAlert}\r\n                    </div>\r\n\r\n                    <div>\r\n                        <div className='info-form' >\r\n                            Fill Out Info\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <div className='header-form' >\r\n                            <FontAwesomeIcon icon=\"map-marker-alt\"  size=\"1x\" /> {route} on {value.format('MM/DD/yy')}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='form-body-top' >\r\n                        <div>\r\n                            <Form.Group as={Col} controlId=\"formGridname\">\r\n                                <Form.Control type=\"text\" placeholder=\"Ned Flanders\" onChange={(e)=> {SetTripName(e.target.value)}} />\r\n                            </Form.Group>\r\n                        </div>\r\n                        <div>\r\n                            <Form.Group as={Col} controlId=\"formGridphone\">\r\n                                <Form.Control type=\"email\" placeholder=\"didlydo@yahoo.com\" onChange={(e) => {setEmail(e.target.value)}} />\r\n                            </Form.Group>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div>\r\n                        <div className='header-form' >\r\n                            <OverlayTrigger\r\n                                placement=\"top\"\r\n                                overlay={<Tooltip id=\"tooltip\">This is where we will pick you up for the start of the trip</Tooltip>}\r\n                            >\r\n                                {({ ref, ...triggerHandler }) => (\r\n                                <div variant=\"light\"\r\n                                    {...triggerHandler}\r\n                                    className=\"d-inline-flex align-items-center\" ref={ref} \r\n                                >Pick Up Location</div>\r\n                                )}\r\n                            </OverlayTrigger>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className='form-body-middle' >\r\n                        <div>\r\n                            <Form.Control as=\"select\" defaultValue=\"Choose...\"  onChange={(e) => {setLocation(e.target.value)}}>\r\n                                <option>MarketPlace Mall (North East Corner)</option>\r\n                                <option>LincolnSquare Mall (South Side)</option>\r\n                                <option>Savoy Walmart (North East Corner)</option>\r\n                                <option>Other (enter address below)</option>\r\n                            </Form.Control>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <Form.Group as={Col} controlId=\"formGridname\">\r\n                                <Form.Control type=\"text\" placeholder=\"if selected 'Other'\" onChange={(e)=> {SetOtherLocation(e.target.value)}} />\r\n                            </Form.Group>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <div className='header-form' >\r\n                            <Form.Label className='form-text'>Start Time</Form.Label>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div  className='form-body-bottom'>\r\n                        <div >\r\n                            <Form.Control as=\"select\" defaultValue=\"Choose...\"  onChange={(e)=> {setTime(e.target.value)}}>\r\n                                <option>8:00 am</option>\r\n                                <option>9:30 am</option>\r\n                                <option>11:00 am</option>\r\n                            </Form.Control>\r\n                        </div>\r\n                        <div>\r\n                            <Form.Group as={Col} controlId=\"formGridPassword\">\r\n                                <Form.Control as=\"select\" defaultValue=\"Choose...\"  onChange={(e)=> {setKayaksTaking(e.target.value)}}>\r\n                                    {kayaksOptions}\r\n                                </Form.Control>\r\n                            </Form.Group>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <Form.Group id=\"formGridCheckbox\" >\r\n                            <a target='blank' href={'https://media.makeameme.org/created/haha-got-you.jpg'} >\r\n                                <Form.Check onChange={(e) => {setChecked(e.target.checked)}}  type=\"checkbox\" label=\"I agree to KingFisher Kayaking Terms of Service\" />\r\n                            </a>\r\n                        </Form.Group>\r\n\r\n                    </div>\r\n\r\n                    <div className='nav-buttons' >\r\n                        {/* <div className='arrow' onClick={() => setViewing(true)}>\r\n                            <FontAwesomeIcon icon=\"arrow-left\"  size=\"1x\" /> <span> Back </span>\r\n                        </div> */}\r\n                        <div className='arrow' onClick={continueButtonHandler}>\r\n                            <span> Book </span><FontAwesomeIcon icon=\"arrow-right\"  size=\"1x\" /> \r\n                        </div>\r\n                    </div>\r\n                </Form>\r\n            </Row>\r\n        </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SelectionFrom;"]},"metadata":{},"sourceType":"module"}