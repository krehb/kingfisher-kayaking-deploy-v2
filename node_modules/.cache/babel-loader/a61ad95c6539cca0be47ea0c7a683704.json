{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jdk17\\\\Desktop\\\\KingFisher\\\\kingfisher-kayaking\\\\src\\\\pages\\\\home.js\";\nimport React, { useState, useEffect } from 'react';\nimport '../App.css'; //lib\n\nimport moment from 'moment';\nimport firebase from 'firebase';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'video-react/dist/video-react.css'; // import css\n\nimport { Row, Col } from 'react-bootstrap'; //Awesome Fonts\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faCheckSquare, faArrowLeft, faArrowRight, faCloudRain, faCloud, faSun, faMeh, faSmile, faWater, faClock, faDollarSign, faPlus, faMapMarkerAlt, faCompass } from '@fortawesome/free-solid-svg-icons'; //components\n// import MyNavbar from './Componets/small-componets/Navbar/navbar';\n\nimport MyJumbotron from '../Componets/small-componets/Jumbotron/jumbotron';\nimport Routes from '../Componets/routes/routes';\nimport ShowCalendar from '../Componets/calendar/showCalendar';\nimport SelectionFrom from '../Componets/SelectionForm/SelectionForm';\nimport Footer from '../Componets/small-componets/footer/footer';\nimport Video from '../Componets/small-componets/video/video';\nimport ShowStore from '../Componets/Ecwids/showStore';\nimport River from '../Componets/rivers/rivers';\nexport default function HomePage({\n  setRouteSelected\n}) {\n  //Awesome Fonts function\n  library.add(faCheckSquare, faArrowLeft, faArrowRight, faCloudRain, faCloud, faSun, faMeh, faSmile, faWater, faClock, faDollarSign, faPlus, faMapMarkerAlt, faCompass); // firebase requirements\n\n  const database = firebase.database();\n  const ref = database.ref('bookings');\n  const refSettings = database.ref('settings'); // Use State AREA\n\n  const showCompent = useState({\n    componets: [{\n      jumbotron: true\n    }, {\n      calendar: false\n    }, {\n      price: false\n    }, {\n      routes: true\n    }, {\n      pickup: false\n    }, {\n      selectionForm: false\n    }, {\n      showLoading: true\n    }, {\n      showWaiver: false\n    }]\n  });\n  const AlertShow = useState({\n    showAlert: null\n  });\n  const showVideo = useState({\n    video: true\n  });\n  const [showRiver, setShowRiver] = useState(false);\n  const [value, setValue] = useState(moment());\n  const [showStore, setShowStore] = useState(false); // const [routeSelected, setRouteSelected] = useState('no route')\n\n  const [kayakStock, setkayakStock] = useState();\n  const [waterLevelSetting, setWaterLevelSetting] = useState(1);\n  const [storePath, setStorePath] = useState(); // booked dates state for calendar\n\n  const booked = useState({\n    bookings: []\n  }); //selecting what should show\n\n  const showCalendar = () => {\n    showCompent[1]({\n      componets: [{\n        jumbotron: false\n      }, {\n        calendar: true\n      }, {\n        price: false\n      }, {\n        routes: false\n      }, {\n        pickup: false\n      }, {\n        selectionForm: false\n      }, {\n        showLoading: false\n      }]\n    });\n    showVideo[1]({\n      video: false\n    });\n    AlertShow[1]({\n      showAlert: null\n    });\n    setShowStore(false);\n  };\n\n  const showHomeHandler = () => {\n    showCompent[1]({\n      componets: [{\n        jumbotron: false\n      }, {\n        calendar: false\n      }, {\n        price: false\n      }, {\n        routes: true\n      }, {\n        pickup: false\n      }, {\n        selectionForm: false\n      }, {\n        showLoading: false\n      }, {\n        showVideo: true\n      }]\n    });\n    showVideo[1]({\n      video: false\n    });\n    AlertShow[1]({\n      showAlert: null\n    });\n    setShowRiver(false);\n  };\n\n  const showSelectionFormHandler = () => {\n    showCompent[1]({\n      componets: [{\n        jumbotron: false\n      }, {\n        calendar: false\n      }, {\n        price: false\n      }, {\n        routes: false\n      }, {\n        pickup: false\n      }, {\n        selectionForm: true\n      }, {\n        showLoading: false\n      }]\n    });\n  };\n\n  const showAlertHandler = () => {\n    AlertShow[1]({\n      showAlert: 2\n    });\n  };\n\n  const showRiversHandler = () => {\n    setShowRiver(true);\n    showCompent[1]({\n      componets: [{\n        jumbotron: false\n      }, {\n        calendar: false\n      }, {\n        price: false\n      }, {\n        routes: false\n      }, {\n        pickup: false\n      }, {\n        selectionForm: false\n      }, {\n        showLoading: false\n      }]\n    });\n    showVideo[1]({\n      video: false\n    });\n    AlertShow[1]({\n      showAlert: null\n    });\n  };\n\n  const showingStore = () => {\n    setShowStore(true);\n    showCompent[1]({\n      componets: [{\n        jumbotron: false\n      }, {\n        calendar: false\n      }, {\n        price: false\n      }, {\n        routes: false\n      }, {\n        pickup: false\n      }, {\n        selectionForm: false\n      }, {\n        showLoading: false\n      }]\n    });\n  }; //rendering the data from the firebase for the calendar & rendering settings\n\n\n  useEffect(() => {\n    ref.on('value', gotDataHandler, errDataHandler);\n    refSettings.on('value', gotSettingsHandler, errDataHandler);\n    console.log('render calendar & settings');\n  }, []);\n  const array = [];\n\n  const gotDataHandler = data => {\n    const dataBookings = data.val();\n    const keys = Object.keys(dataBookings);\n\n    for (let i = 0; i < keys.length; i++) {\n      let k = keys[i];\n      const list = dataBookings[k];\n      const bookingItem = {\n        date: list.date,\n        numOfKayaks: list.numOfKayaks,\n        name: list.name,\n        route: list.route\n      };\n      array.push(bookingItem);\n    }\n\n    booked[1]({\n      bookings: array\n    });\n  };\n\n  const gotSettingsHandler = data => {\n    const dataSettings = data.val();\n    setStorePath(dataSettings.storepath);\n    setkayakStock(dataSettings.kayakStock);\n    setWaterLevelSetting(dataSettings.waterLevelLimit);\n  };\n\n  const errDataHandler = err => {\n    console.log('Error!');\n    console.log(err);\n  };\n\n  const setRoute = routeTitle => {\n    setRouteSelected(routeTitle);\n    console.log(routeTitle);\n    showCalendar();\n  }; //whats rendered to the DOM\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(River, {\n    show: showRiver,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Video, {\n    showVideo: showVideo[0].video,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(MyJumbotron, {\n    showJumbo: showCompent[0].componets[0].jumbotron,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"RoutesList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Routes, {\n    showRoutes: showCompent[0].componets[3].routes,\n    setRoute: setRoute,\n    waterLevel: waterLevelSetting,\n    setRouteSelected: setRouteSelected,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  })));\n}","map":{"version":3,"sources":["C:/Users/jdk17/Desktop/KingFisher/kingfisher-kayaking/src/pages/home.js"],"names":["React","useState","useEffect","moment","firebase","Row","Col","library","faCheckSquare","faArrowLeft","faArrowRight","faCloudRain","faCloud","faSun","faMeh","faSmile","faWater","faClock","faDollarSign","faPlus","faMapMarkerAlt","faCompass","MyJumbotron","Routes","ShowCalendar","SelectionFrom","Footer","Video","ShowStore","River","HomePage","setRouteSelected","add","database","ref","refSettings","showCompent","componets","jumbotron","calendar","price","routes","pickup","selectionForm","showLoading","showWaiver","AlertShow","showAlert","showVideo","video","showRiver","setShowRiver","value","setValue","showStore","setShowStore","kayakStock","setkayakStock","waterLevelSetting","setWaterLevelSetting","storePath","setStorePath","booked","bookings","showCalendar","showHomeHandler","showSelectionFormHandler","showAlertHandler","showRiversHandler","showingStore","on","gotDataHandler","errDataHandler","gotSettingsHandler","console","log","array","data","dataBookings","val","keys","Object","i","length","k","list","bookingItem","date","numOfKayaks","name","route","push","dataSettings","storepath","waterLevelLimit","err","setRoute","routeTitle"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport '../App.css';\r\n\r\n//lib\r\nimport moment from 'moment';\r\nimport firebase from 'firebase';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'video-react/dist/video-react.css'; // import css\r\nimport { Row, Col } from 'react-bootstrap';\r\n\r\n\r\n//Awesome Fonts\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faCheckSquare, faArrowLeft, faArrowRight, faCloudRain, faCloud, faSun, faMeh, faSmile, faWater, faClock, faDollarSign, faPlus, faMapMarkerAlt, faCompass } from '@fortawesome/free-solid-svg-icons'\r\n\r\n//components\r\n// import MyNavbar from './Componets/small-componets/Navbar/navbar';\r\nimport MyJumbotron from '../Componets/small-componets/Jumbotron/jumbotron';\r\nimport Routes from '../Componets/routes/routes';\r\nimport ShowCalendar from '../Componets/calendar/showCalendar'\r\nimport SelectionFrom from '../Componets/SelectionForm/SelectionForm';\r\nimport Footer from '../Componets/small-componets/footer/footer';\r\nimport Video from '../Componets/small-componets/video/video';\r\nimport ShowStore from '../Componets/Ecwids/showStore'\r\n\r\nimport River from '../Componets/rivers/rivers';\r\n\r\n\r\n\r\n\r\nexport default function HomePage({ setRouteSelected}){\r\n\r\n  //Awesome Fonts function\r\n  library.add( faCheckSquare,faArrowLeft, faArrowRight, faCloudRain, faCloud, faSun, faMeh, faSmile, faWater, faClock,faDollarSign, faPlus , faMapMarkerAlt, faCompass );\r\n\r\n  // firebase requirements\r\n  const database = firebase.database();\r\n  const ref = database.ref('bookings');\r\n  const refSettings = database.ref('settings')\r\n\r\n  // Use State AREA\r\n  const showCompent = useState({componets: [\r\n    {jumbotron: true},\r\n    {calendar: false},\r\n    {price: false},\r\n    {routes: true},\r\n    {pickup: false},\r\n    {selectionForm: false},\r\n    {showLoading: true},\r\n    {showWaiver: false}\r\n  ]});\r\n\r\n  const AlertShow = useState({showAlert: null});\r\n  const showVideo = useState({video: true});\r\n\r\n\r\n  const [showRiver, setShowRiver] = useState(false)\r\n  const [value , setValue] = useState(moment());\r\n  const [showStore, setShowStore] = useState(false)\r\n  // const [routeSelected, setRouteSelected] = useState('no route')\r\n  const [kayakStock, setkayakStock] = useState()\r\n  const [waterLevelSetting, setWaterLevelSetting] = useState(1)\r\n  const [storePath, setStorePath] = useState()\r\n\r\n  // booked dates state for calendar\r\n  const booked = useState({bookings: []})\r\n\r\n\r\n\r\n\r\n  //selecting what should show\r\n  const showCalendar = () => {showCompent[1]({componets: [{jumbotron: false}, {calendar: true}, {price: false}, {routes: false}, {pickup: false}, {selectionForm: false}, {showLoading: false}]});showVideo[1]({video:false});AlertShow[1]({showAlert: null}); setShowStore(false);};\r\n  const showHomeHandler = () => {showCompent[1]({componets: [{jumbotron: false}, {calendar: false}, {price: false}, {routes: true}, {pickup: false}, {selectionForm: false},{showLoading: false}, {showVideo: true}]});showVideo[1]({video:false});AlertShow[1]({showAlert: null});   setShowRiver(false) };\r\n  const showSelectionFormHandler = () => {showCompent[1]({componets: [{jumbotron: false}, {calendar: false}, {price: false}, {routes: false}, {pickup: false}, {selectionForm: true},{showLoading: false}]})};\r\n  \r\n  const showAlertHandler = () => {AlertShow[1]({showAlert: 2})}\r\n  const showRiversHandler = () => {setShowRiver(true);showCompent[1]({componets: [{jumbotron: false}, {calendar: false}, {price: false}, {routes: false}, {pickup: false}, {selectionForm: false}, {showLoading: false}]});showVideo[1]({video:false});AlertShow[1]({showAlert: null})};\r\n\r\n  const showingStore = () => {\r\n    setShowStore(true)\r\n    showCompent[1]({componets: [{jumbotron: false}, {calendar: false}, {price: false}, {routes: false}, {pickup: false}, {selectionForm: false}, {showLoading: false}]})\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n  //rendering the data from the firebase for the calendar & rendering settings\r\n  useEffect(() => {\r\n    ref.on('value', gotDataHandler, errDataHandler);\r\n    refSettings.on('value', gotSettingsHandler, errDataHandler)\r\n    console.log('render calendar & settings')\r\n  },[])\r\n  const array = []\r\n  const gotDataHandler = (data) => {\r\n    const dataBookings = data.val();\r\n    const keys = Object.keys(dataBookings);\r\n    for (let i = 0; i < keys.length; i ++){\r\n      let k = keys[i]\r\n      const list = dataBookings[k]\r\n      const bookingItem = {date: list.date, numOfKayaks: list.numOfKayaks, name: list.name, route: list.route}\r\n      array.push(bookingItem)\r\n    }\r\n    booked[1]({bookings: array})\r\n\r\n\r\n  }\r\n  const gotSettingsHandler = (data) => {\r\n    const dataSettings = data.val()\r\n    setStorePath(dataSettings.storepath)\r\n    setkayakStock(dataSettings.kayakStock)\r\n    setWaterLevelSetting(dataSettings.waterLevelLimit)\r\n  }\r\n\r\n  const errDataHandler = (err) => {\r\n    console.log('Error!')\r\n    console.log(err)\r\n  }\r\n\r\n  const setRoute = (routeTitle) => {\r\n    setRouteSelected(routeTitle)\r\n    console.log(routeTitle)\r\n    showCalendar()\r\n  }\r\n\r\n\r\n\r\n  //whats rendered to the DOM\r\n  return (\r\n      <div >\r\n          <River show={showRiver} />\r\n          <Video showVideo={showVideo[0].video} />\r\n          <MyJumbotron showJumbo={showCompent[0].componets[0].jumbotron} />\r\n          <div className='RoutesList'>\r\n            <Routes\r\n              showRoutes={showCompent[0].componets[3].routes} \r\n              setRoute={setRoute}\r\n              waterLevel={waterLevelSetting}\r\n              setRouteSelected={setRouteSelected} />\r\n            {/* <ShowCalendar\r\n              showCalendar={showCompent[0].componets[1].calendar}\r\n              form={showSelectionFormHandler}\r\n              value={value}\r\n              setValue={setValue}\r\n              back={showHomeHandler}\r\n              booked={booked[0].bookings}\r\n              kayaksInStock={kayakStock}\r\n            />\r\n              <SelectionFrom \r\n              showForm={showCompent[0].componets[5].selectionForm} \r\n              route={routeSelected}\r\n              value={value}\r\n              kayaks={booked[0].bookings}\r\n              showHome={showHomeHandler}\r\n              kayaksInStock={kayakStock}\r\n              back={showCalendar}\r\n              showStore={showingStore}\r\n              storePath={storePath}\r\n            /> */}\r\n          </div>\r\n      </div>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}