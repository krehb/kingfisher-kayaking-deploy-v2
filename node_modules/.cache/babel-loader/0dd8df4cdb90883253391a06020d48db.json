{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\jdk17\\\\Desktop\\\\KingFisher\\\\kingfisher-kayaking\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./App.css';import'./NewApp.css';//testing router\nimport About from'./pages/about';import HomePage from'./pages/home';import BookingPage from'./pages/booking';import{BrowserRouter as Router,Switch,Route}from'react-router-dom';import SuccessPage from'./pages/success';//lib\nimport moment from'moment';import firebase from'firebase';import'bootstrap/dist/css/bootstrap.min.css';import'video-react/dist/video-react.css';// import css\nimport{Row,Col}from'react-bootstrap';//Awesome Fonts\nimport{library}from'@fortawesome/fontawesome-svg-core';import{faCheckSquare,faArrowLeft,faArrowRight,faCloudRain,faCloud,faSun,faMeh,faSmile,faWater,faClock,faDollarSign,faPlus,faMapMarkerAlt,faCompass,faCalendarAlt}from'@fortawesome/free-solid-svg-icons';//components\nimport MyNavbar from'./Componets/small-componets/Navbar/navbar';import MyJumbotron from'./Componets/small-componets/Jumbotron/jumbotron';import Routes from'./Componets/routes/routes';import ShowCalendar from'./Componets/calendar/showCalendar';import SelectionFrom from'./Componets/SelectionForm/SelectionForm';import Footer from'./Componets/small-componets/footer/footer';import Video from'./Componets/small-componets/video/video';import River from'./Componets/rivers/rivers';export default function App(){//Awesome Fonts function\nlibrary.add(faCheckSquare,faArrowLeft,faArrowRight,faCloudRain,faCloud,faSun,faMeh,faSmile,faWater,faClock,faDollarSign,faPlus,faMapMarkerAlt,faCompass,faCalendarAlt);// firebase requirements\nvar database=firebase.database();var ref=database.ref('bookings');var refSettings=database.ref('settings');// Use State AREA\nvar showCompent=useState({componets:[{jumbotron:true},{calendar:false},{price:false},{routes:true},{pickup:false},{selectionForm:false},{showLoading:true},{showWaiver:false}]});var _useState=useState(moment()),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var AlertShow=useState({showAlert:null});var showVideo=useState({video:true});var showRiver=useState({River:false});var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showStore=_useState4[0],setShowStore=_useState4[1];var _useState5=useState('no route'),_useState6=_slicedToArray(_useState5,2),routeSelected=_useState6[0],setRouteSelected=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),kayakStock=_useState8[0],setkayakStock=_useState8[1];var _useState9=useState(1),_useState10=_slicedToArray(_useState9,2),waterLevelSetting=_useState10[0],setWaterLevelSetting=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),storePath=_useState12[0],setStorePath=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),formData=_useState14[0],setFormData=_useState14[1];// booked dates state for calendar\nvar booked=useState({bookings:[]});//selecting what should show\nvar showCalendar=function showCalendar(){showCompent[1]({componets:[{jumbotron:false},{calendar:true},{price:false},{routes:false},{pickup:false},{selectionForm:false},{showLoading:false}]});showVideo[1]({video:false});AlertShow[1]({showAlert:null});setShowStore(false);};var showHomeHandler=function showHomeHandler(){showCompent[1]({componets:[{jumbotron:false},{calendar:false},{price:false},{routes:true},{pickup:false},{selectionForm:false},{showLoading:false},{showVideo:true}]});showVideo[1]({video:false});AlertShow[1]({showAlert:null});showRiver[1]({River:false});};var showSelectionFormHandler=function showSelectionFormHandler(){showCompent[1]({componets:[{jumbotron:false},{calendar:false},{price:false},{routes:false},{pickup:false},{selectionForm:true},{showLoading:false}]});};var showAlertHandler=function showAlertHandler(){AlertShow[1]({showAlert:2});};var showRiversHandler=function showRiversHandler(){showRiver[1]({River:true});showCompent[1]({componets:[{jumbotron:false},{calendar:false},{price:false},{routes:false},{pickup:false},{selectionForm:false},{showLoading:false}]});showVideo[1]({video:false});AlertShow[1]({showAlert:null});};var showingStore=function showingStore(){setShowStore(true);showCompent[1]({componets:[{jumbotron:false},{calendar:false},{price:false},{routes:false},{pickup:false},{selectionForm:false},{showLoading:false}]});};//rendering the data from the firebase for the calendar & rendering settings\nuseEffect(function(){ref.on('value',gotDataHandler,errDataHandler);refSettings.on('value',gotSettingsHandler,errDataHandler);console.log('render calendar & settings');},[]);var array=[];var gotDataHandler=function gotDataHandler(data){var dataBookings=data.val();var keys=Object.keys(dataBookings);for(var i=0;i<keys.length;i++){var k=keys[i];var list=dataBookings[k];var bookingItem={date:list.date,numOfKayaks:list.numOfKayaks,name:list.name,route:list.route};array.push(bookingItem);}booked[1]({bookings:array});};var gotSettingsHandler=function gotSettingsHandler(data){var dataSettings=data.val();setStorePath(dataSettings.storepath);setkayakStock(dataSettings.kayakStock);setWaterLevelSetting(dataSettings.waterLevelLimit);};var errDataHandler=function errDataHandler(err){console.log('Error!');console.log(err);};var setRoute=function setRoute(routeTitle){setRouteSelected(routeTitle);showCalendar();};//whats rendered to the DOM\nreturn/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(MyNavbar,{showHome:showHomeHandler,showRivers:showRiversHandler}),/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/about\",component:About}),/*#__PURE__*/React.createElement(Route,{path:\"/booking/:id\",render:function render(){return/*#__PURE__*/React.createElement(BookingPage,{setRouteSelected:setRouteSelected,routeSelected:routeSelected,showCalendar:showCompent[0].componets[1].calendar,form:showSelectionFormHandler,value:value,setValue:setValue,back:showHomeHandler,booked:booked[0].bookings,kayaksInStock:kayakStock,kayaks:booked[0].bookings,formData:formData,setFormData:setFormData});}}),/*#__PURE__*/React.createElement(Route,{path:\"/success\",exact:true,render:function render(){return/*#__PURE__*/React.createElement(SuccessPage,{formData:formData});}}),/*#__PURE__*/React.createElement(Route,{path:\"/\",exact:true,render:function render(){return/*#__PURE__*/React.createElement(HomePage,{setRouteSelected:setRouteSelected});}})),/*#__PURE__*/React.createElement(Footer,null)));}","map":{"version":3,"sources":["C:/Users/jdk17/Desktop/KingFisher/kingfisher-kayaking/src/App.js"],"names":["React","useState","useEffect","About","HomePage","BookingPage","BrowserRouter","Router","Switch","Route","SuccessPage","moment","firebase","Row","Col","library","faCheckSquare","faArrowLeft","faArrowRight","faCloudRain","faCloud","faSun","faMeh","faSmile","faWater","faClock","faDollarSign","faPlus","faMapMarkerAlt","faCompass","faCalendarAlt","MyNavbar","MyJumbotron","Routes","ShowCalendar","SelectionFrom","Footer","Video","River","App","add","database","ref","refSettings","showCompent","componets","jumbotron","calendar","price","routes","pickup","selectionForm","showLoading","showWaiver","value","setValue","AlertShow","showAlert","showVideo","video","showRiver","showStore","setShowStore","routeSelected","setRouteSelected","kayakStock","setkayakStock","waterLevelSetting","setWaterLevelSetting","storePath","setStorePath","formData","setFormData","booked","bookings","showCalendar","showHomeHandler","showSelectionFormHandler","showAlertHandler","showRiversHandler","showingStore","on","gotDataHandler","errDataHandler","gotSettingsHandler","console","log","array","data","dataBookings","val","keys","Object","i","length","k","list","bookingItem","date","numOfKayaks","name","route","push","dataSettings","storepath","waterLevelLimit","err","setRoute","routeTitle"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport './App.css';\r\nimport './NewApp.css';\r\n\r\n//testing router\r\nimport About from './pages/about';\r\nimport HomePage from './pages/home';\r\nimport BookingPage from './pages/booking';\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport SuccessPage from './pages/success'\r\n\r\n//lib\r\nimport moment from 'moment';\r\nimport firebase from 'firebase';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'video-react/dist/video-react.css'; // import css\r\nimport { Row, Col } from 'react-bootstrap';\r\n\r\n\r\n//Awesome Fonts\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faCheckSquare, faArrowLeft, faArrowRight, faCloudRain, faCloud, faSun, faMeh, faSmile, faWater, faClock, faDollarSign, faPlus, faMapMarkerAlt, faCompass, faCalendarAlt } from '@fortawesome/free-solid-svg-icons'\r\n\r\n//components\r\nimport MyNavbar from './Componets/small-componets/Navbar/navbar';\r\nimport MyJumbotron from './Componets/small-componets/Jumbotron/jumbotron';\r\nimport Routes from './Componets/routes/routes';\r\nimport ShowCalendar from './Componets/calendar/showCalendar'\r\nimport SelectionFrom from './Componets/SelectionForm/SelectionForm';\r\nimport Footer from './Componets/small-componets/footer/footer';\r\nimport Video from './Componets/small-componets/video/video';\r\n\r\n\r\nimport River from './Componets/rivers/rivers';\r\n\r\n\r\n\r\n\r\nexport default function App(){\r\n\r\n  //Awesome Fonts function\r\n  library.add( faCheckSquare,faArrowLeft, faArrowRight, faCloudRain, faCloud, faSun, faMeh, faSmile, faWater, faClock,faDollarSign, faPlus , faMapMarkerAlt, faCompass, faCalendarAlt );\r\n\r\n  // firebase requirements\r\n  const database = firebase.database();\r\n  const ref = database.ref('bookings');\r\n  const refSettings = database.ref('settings')\r\n\r\n  // Use State AREA\r\n  const showCompent = useState({componets: [\r\n    {jumbotron: true},\r\n    {calendar: false},\r\n    {price: false},\r\n    {routes: true},\r\n    {pickup: false},\r\n    {selectionForm: false},\r\n    {showLoading: true},\r\n    {showWaiver: false}\r\n  ]});\r\n  const [value , setValue] = useState(moment());\r\n  const AlertShow = useState({showAlert: null});\r\n  const showVideo = useState({video: true});\r\n  const showRiver = useState({River: false});\r\n  const [showStore, setShowStore] = useState(false)\r\n  const [routeSelected, setRouteSelected] = useState('no route')\r\n  const [kayakStock, setkayakStock] = useState()\r\n  const [waterLevelSetting, setWaterLevelSetting] = useState(1)\r\n  const [storePath, setStorePath] = useState()\r\n\r\n\r\n  const [formData, setFormData] = useState();\r\n\r\n  // booked dates state for calendar\r\n  const booked = useState({bookings: []})\r\n\r\n\r\n\r\n\r\n  //selecting what should show\r\n  const showCalendar = () => {showCompent[1]({componets: [{jumbotron: false}, {calendar: true}, {price: false}, {routes: false}, {pickup: false}, {selectionForm: false}, {showLoading: false}]});showVideo[1]({video:false});AlertShow[1]({showAlert: null}); setShowStore(false);};\r\n  const showHomeHandler = () => {showCompent[1]({componets: [{jumbotron: false}, {calendar: false}, {price: false}, {routes: true}, {pickup: false}, {selectionForm: false},{showLoading: false}, {showVideo: true}]});showVideo[1]({video:false});AlertShow[1]({showAlert: null});   showRiver[1]({River: false}) };\r\n  const showSelectionFormHandler = () => {showCompent[1]({componets: [{jumbotron: false}, {calendar: false}, {price: false}, {routes: false}, {pickup: false}, {selectionForm: true},{showLoading: false}]})};\r\n  \r\n  const showAlertHandler = () => {AlertShow[1]({showAlert: 2})}\r\n  const showRiversHandler = () => {showRiver[1]({River: true});showCompent[1]({componets: [{jumbotron: false}, {calendar: false}, {price: false}, {routes: false}, {pickup: false}, {selectionForm: false}, {showLoading: false}]});showVideo[1]({video:false});AlertShow[1]({showAlert: null})};\r\n\r\n  const showingStore = () => {\r\n    setShowStore(true)\r\n    showCompent[1]({componets: [{jumbotron: false}, {calendar: false}, {price: false}, {routes: false}, {pickup: false}, {selectionForm: false}, {showLoading: false}]})\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n  //rendering the data from the firebase for the calendar & rendering settings\r\n  useEffect(() => {\r\n    ref.on('value', gotDataHandler, errDataHandler);\r\n    refSettings.on('value', gotSettingsHandler, errDataHandler)\r\n    console.log('render calendar & settings')\r\n  },[])\r\n  const array = []\r\n  const gotDataHandler = (data) => {\r\n    const dataBookings = data.val();\r\n    const keys = Object.keys(dataBookings);\r\n    for (let i = 0; i < keys.length; i ++){\r\n      let k = keys[i]\r\n      const list = dataBookings[k]\r\n      const bookingItem = {date: list.date, numOfKayaks: list.numOfKayaks, name: list.name, route: list.route}\r\n      array.push(bookingItem)\r\n    }\r\n    booked[1]({bookings: array})\r\n\r\n\r\n  }\r\n  const gotSettingsHandler = (data) => {\r\n    const dataSettings = data.val()\r\n    setStorePath(dataSettings.storepath)\r\n    setkayakStock(dataSettings.kayakStock)\r\n    setWaterLevelSetting(dataSettings.waterLevelLimit)\r\n  }\r\n\r\n  const errDataHandler = (err) => {\r\n    console.log('Error!')\r\n    console.log(err)\r\n  }\r\n\r\n  const setRoute = (routeTitle) => {\r\n    setRouteSelected(routeTitle)\r\n    showCalendar()\r\n  }\r\n\r\n\r\n\r\n  //whats rendered to the DOM\r\n  return (\r\n      <Router>\r\n      <div >\r\n          <MyNavbar showHome={showHomeHandler} showRivers={showRiversHandler} />\r\n\r\n          <Switch>\r\n          <Route path='/about' component={About} />\r\n          <Route path='/booking/:id' render={() => <BookingPage  \r\n              setRouteSelected={setRouteSelected}\r\n              routeSelected={routeSelected}\r\n              showCalendar={showCompent[0].componets[1].calendar}\r\n              form={showSelectionFormHandler}\r\n              value={value}\r\n              setValue={setValue}\r\n              back={showHomeHandler}\r\n              booked={booked[0].bookings}\r\n              kayaksInStock={kayakStock}\r\n              kayaks={booked[0].bookings}\r\n              formData={formData}\r\n              setFormData={setFormData}\r\n              />}/>\r\n          <Route path='/success' exact render={() => <SuccessPage formData={formData} />} />\r\n          <Route path='/' exact render={() => <HomePage  setRouteSelected={setRouteSelected} />} />\r\n          </Switch>\r\n\r\n          <Footer/>\r\n      </div>\r\n      </Router>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}