{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jdk17\\\\Desktop\\\\KingFisher\\\\kingfisher-kayaking\\\\src\\\\App.js\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport './NewApp.css'; //pages\n\nimport About from './pages/about';\nimport HomePage from './pages/home';\nimport BookingPage from './pages/booking';\nimport SuccessPage from './pages/success';\nimport FormPage from './pages/formPage';\nimport PaymentPage from './pages/paymentPage';\nimport WaiverPage from './pages/signWaiverPage'; //lib\n\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport moment from 'moment';\nimport firebase from 'firebase';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'video-react/dist/video-react.css'; // import css\n//Awesome Fonts\n\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faCheckSquare, faArrowLeft, faArrowRight, faCloudRain, faCloud, faSun, faMeh, faSmile, faWater, faClock, faDollarSign, faPlus, faMapMarkerAlt, faCompass, faCalendarAlt, faExclamationCircle, faSnowflake } from '@fortawesome/free-solid-svg-icons'; //components\n\nimport MyNavbar from './Componets/small-componets/Navbar/navbar';\nimport Footer from './Componets/small-componets/footer/footer';\n\nconst scrollToRef = ref => window.scrollTo(0, ref.current.offsetTop);\n\nexport default function App() {\n  //Awesome Fonts function\n  library.add(faCheckSquare, faArrowLeft, faArrowRight, faCloudRain, faCloud, faSun, faMeh, faSmile, faWater, faClock, faDollarSign, faPlus, faMapMarkerAlt, faCompass, faCalendarAlt, faExclamationCircle, faSnowflake); // firebase requirements\n\n  const database = firebase.database();\n  const ref = database.ref('bookings');\n  const refSettings = database.ref('settings'); // Use State AREA\n\n  const [value, setValue] = useState(moment());\n  const [routeSelected, setRouteSelected] = useState('no route');\n  const [kayakStock, setkayakStock] = useState();\n  const [formData, setFormData] = useState();\n  const [waterLevelSetting, setWaterLevelSetting] = useState(1);\n  const [routesList, setRoutes] = useState([]);\n  const [routeCost, setRouteCost] = useState(0); // booked dates state for calendar\n\n  const booked = useState({\n    bookings: []\n  }); //rendering the data from the firebase for the calendar & rendering settings\n\n  useEffect(() => {\n    ref.on('value', gotDataHandler, errDataHandler);\n    refSettings.on('value', gotSettingsHandler, errDataHandler);\n  }, []);\n  const array = [];\n\n  const gotDataHandler = data => {\n    const dataBookings = data.val();\n    const keys = Object.keys(dataBookings);\n\n    for (let i = 0; i < keys.length; i++) {\n      let k = keys[i];\n      const list = dataBookings[k];\n      const bookingItem = {\n        date: list.date,\n        numOfKayaks: list.numOfKayaks,\n        name: list.name,\n        route: list.route\n      };\n      array.push(bookingItem);\n    }\n\n    booked[1]({\n      bookings: array\n    });\n  };\n\n  const gotSettingsHandler = data => {\n    const dataSettings = data.val();\n    setkayakStock(dataSettings.kayakStock);\n    setWaterLevelSetting(dataSettings.waterLevelLimit);\n  };\n\n  const errDataHandler = err => {\n    console.log('Error!');\n    console.log(err);\n  }; //nav scroll for booking \n\n\n  const myRef = useRef(null);\n\n  const executeScroll = () => scrollToRef(myRef);\n\n  console.log(routeCost); //whats rendered to the DOM\n\n  return /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MyNavbar, {\n    executeScroll: executeScroll,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    path: \"/about\",\n    component: About,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/booking/:id/form/pay\",\n    render: () => /*#__PURE__*/React.createElement(PaymentPage, {\n      routeSelected: routeSelected,\n      value: value,\n      formData: formData,\n      routesList: routesList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 61\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/booking/:id/form\",\n    render: () => /*#__PURE__*/React.createElement(FormPage, {\n      routeSelected: routeSelected,\n      value: value,\n      kayaksInStock: kayakStock,\n      kayaks: booked[0].bookings,\n      formData: formData,\n      setFormData: setFormData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 57\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/booking/:id\",\n    render: () => /*#__PURE__*/React.createElement(BookingPage, {\n      routeSelected: routeSelected,\n      value: value,\n      setValue: setValue,\n      booked: booked[0].bookings,\n      kayaksInStock: kayakStock,\n      kayaks: booked[0].bookings,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 52\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/success\",\n    exact: true,\n    render: () => /*#__PURE__*/React.createElement(SuccessPage, {\n      formData: formData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 54\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/waiver\",\n    exact: true,\n    render: () => /*#__PURE__*/React.createElement(WaiverPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 53\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/\",\n    exact: true,\n    render: () => /*#__PURE__*/React.createElement(HomePage, {\n      myRef: myRef,\n      setRouteSelected: setRouteSelected,\n      waterLevelSetting: waterLevelSetting,\n      routesList: routesList,\n      setRoutes: setRoutes,\n      setRouteCost: setRouteCost,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 47\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  })));\n}","map":{"version":3,"sources":["C:/Users/jdk17/Desktop/KingFisher/kingfisher-kayaking/src/App.js"],"names":["React","useState","useEffect","useRef","About","HomePage","BookingPage","SuccessPage","FormPage","PaymentPage","WaiverPage","BrowserRouter","Router","Switch","Route","moment","firebase","library","faCheckSquare","faArrowLeft","faArrowRight","faCloudRain","faCloud","faSun","faMeh","faSmile","faWater","faClock","faDollarSign","faPlus","faMapMarkerAlt","faCompass","faCalendarAlt","faExclamationCircle","faSnowflake","MyNavbar","Footer","scrollToRef","ref","window","scrollTo","current","offsetTop","App","add","database","refSettings","value","setValue","routeSelected","setRouteSelected","kayakStock","setkayakStock","formData","setFormData","waterLevelSetting","setWaterLevelSetting","routesList","setRoutes","routeCost","setRouteCost","booked","bookings","on","gotDataHandler","errDataHandler","gotSettingsHandler","array","data","dataBookings","val","keys","Object","i","length","k","list","bookingItem","date","numOfKayaks","name","route","push","dataSettings","waterLevelLimit","err","console","log","myRef","executeScroll"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useRef} from 'react';\r\nimport './NewApp.css';\r\n\r\n//pages\r\nimport About from './pages/about';\r\nimport HomePage from './pages/home';\r\nimport BookingPage from './pages/booking';\r\nimport SuccessPage from './pages/success';\r\nimport FormPage from './pages/formPage';\r\nimport PaymentPage from './pages/paymentPage';\r\nimport WaiverPage from './pages/signWaiverPage';\r\n\r\n//lib\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\nimport moment from 'moment';\r\nimport firebase from 'firebase';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'video-react/dist/video-react.css'; // import css\r\n\r\n\r\n//Awesome Fonts\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { faCheckSquare, faArrowLeft, faArrowRight, faCloudRain, faCloud, faSun, faMeh, faSmile, faWater, faClock, faDollarSign, faPlus, faMapMarkerAlt, faCompass, faCalendarAlt, faExclamationCircle, faSnowflake } from '@fortawesome/free-solid-svg-icons'\r\n\r\n//components\r\nimport MyNavbar from './Componets/small-componets/Navbar/navbar';\r\nimport Footer from './Componets/small-componets/footer/footer';\r\n\r\n\r\nconst scrollToRef = (ref) => window.scrollTo(0, ref.current.offsetTop)   \r\n\r\nexport default function App(){\r\n\r\n  //Awesome Fonts function\r\n  library.add( faCheckSquare,faArrowLeft, faArrowRight, faCloudRain, faCloud, faSun, faMeh, faSmile, faWater, faClock,faDollarSign, faPlus , faMapMarkerAlt, faCompass, faCalendarAlt, faExclamationCircle, faSnowflake );\r\n\r\n  // firebase requirements\r\n  const database = firebase.database();\r\n  const ref = database.ref('bookings');\r\n  const refSettings = database.ref('settings')\r\n\r\n  // Use State AREA\r\n  const [value , setValue] = useState(moment());\r\n  const [routeSelected, setRouteSelected] = useState('no route')\r\n  const [kayakStock, setkayakStock] = useState()\r\n  const [formData, setFormData] = useState();\r\n  const [waterLevelSetting, setWaterLevelSetting] = useState(1)\r\n  const [routesList, setRoutes] = useState([]);\r\n  const [routeCost, setRouteCost] = useState(0);\r\n  // booked dates state for calendar\r\n  const booked = useState({bookings: []})\r\n\r\n  \r\n  //rendering the data from the firebase for the calendar & rendering settings\r\n  useEffect(() => {\r\n    ref.on('value', gotDataHandler, errDataHandler);\r\n    refSettings.on('value', gotSettingsHandler, errDataHandler)\r\n  },[])\r\n  const array = []\r\n  const gotDataHandler = (data) => {\r\n    const dataBookings = data.val();\r\n    const keys = Object.keys(dataBookings);\r\n    for (let i = 0; i < keys.length; i ++){\r\n      let k = keys[i]\r\n      const list = dataBookings[k]\r\n      const bookingItem = {date: list.date, numOfKayaks: list.numOfKayaks, name: list.name, route: list.route}\r\n      array.push(bookingItem)\r\n    }\r\n    booked[1]({bookings: array})\r\n  }\r\n  const gotSettingsHandler = (data) => {\r\n    const dataSettings = data.val()\r\n    setkayakStock(dataSettings.kayakStock)\r\n    setWaterLevelSetting(dataSettings.waterLevelLimit)\r\n  }\r\n  const errDataHandler = (err) => {\r\n    console.log('Error!')\r\n    console.log(err)\r\n  }\r\n\r\n\r\n\r\n  //nav scroll for booking \r\n  const myRef = useRef(null)\r\n  const executeScroll = () => scrollToRef(myRef)\r\n\r\n  console.log(routeCost)\r\n\r\n\r\n  //whats rendered to the DOM\r\n  return (\r\n      <Router>\r\n      <div >\r\n          <MyNavbar executeScroll={executeScroll} />\r\n          <Switch>\r\n          <Route path='/about' component={About} />\r\n          <Route path='/booking/:id/form/pay' render={() => <PaymentPage  \r\n              routeSelected={routeSelected}\r\n              value={value}\r\n              formData={formData}\r\n              routesList={routesList}\r\n              \r\n              />}/>\r\n          <Route path='/booking/:id/form' render={() => <FormPage  \r\n              routeSelected={routeSelected}\r\n              value={value}\r\n              kayaksInStock={kayakStock}\r\n              kayaks={booked[0].bookings}\r\n              formData={formData}\r\n              setFormData={setFormData}\r\n              />}/>\r\n          <Route path='/booking/:id' render={() => <BookingPage  \r\n              routeSelected={routeSelected}\r\n              value={value}\r\n              setValue={setValue}\r\n              booked={booked[0].bookings}\r\n              kayaksInStock={kayakStock}\r\n              kayaks={booked[0].bookings}\r\n              />}/>\r\n          <Route path='/success' exact render={() => <SuccessPage formData={formData} />} />\r\n          <Route path='/waiver' exact render={() => <WaiverPage />} />\r\n          <Route path='/' exact render={() => <HomePage\r\n              myRef={myRef} \r\n              setRouteSelected={setRouteSelected} \r\n              waterLevelSetting={waterLevelSetting}\r\n              routesList={routesList}\r\n              setRoutes={setRoutes}\r\n              setRouteCost={setRouteCost} />} />\r\n          </Switch>\r\n\r\n          <Footer/>\r\n      </div>\r\n      </Router>\r\n  )\r\n}"]},"metadata":{},"sourceType":"module"}