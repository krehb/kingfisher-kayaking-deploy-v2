{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jdk17\\\\Desktop\\\\KingFisher\\\\kingfisher-kayaking\\\\src\\\\Componets\\\\Paypal\\\\Paypal.js\";\nimport React, { useRef, useEffect, useState } from 'react';\nimport emailjs from 'emailjs-com';\nimport { useHistory } from 'react-router-dom';\nimport firebase from 'firebase';\nexport default function Paypal({\n  formData,\n  priceTotal\n}) {\n  const paypal = useRef();\n  const [currentUser, setCurrentUser] = useState('no email yet');\n  const [sendingCart, setSendingCart] = useState(''); //going to success page after payment\n\n  let history = useHistory();\n\n  function handleClick() {\n    history.push(\"/success\");\n  }\n\n  useEffect(() => {\n    let total = priceTotal; //sending payment through paypal\n\n    window.paypal.Buttons({\n      createOrder: (data, actions, err) => {\n        return actions.order.create({\n          intent: 'CAPTURE',\n          purchase_units: [{\n            description: \"Cool and accurate kit\",\n            amount: {\n              currency_code: 'USD',\n              value: 1\n            }\n          }]\n        });\n      },\n      onApprove: async (data, actions) => {\n        const order = await actions.order.capture();\n        console.log(order);\n      },\n      onError: err => {\n        console.log(err);\n      }\n    }).render(paypal.current);\n  }, []); // firebase requirements\n\n  const database = firebase.database();\n  const ref = database.ref('bookings'); //submitting form to firebase database\n\n  const submitHandler = () => {\n    console.log('booking sent');\n    console.log(formData); //sending email\n    // pushing data to database\n    // ref.push(formData);\n  };\n\n  function sendEmail(e) {\n    e.preventDefault();\n    console.log('was clicked');\n    emailjs.sendForm('service_n7gxrhi', 'template_eay3k5p', e.target, 'user_eKTDTnT6b5suYFim5twvR').then(result => {\n      console.log(result.text);\n    }, error => {\n      console.log(error.text);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: paypal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    value: formData.route,\n    name: \"route\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    value: formData.date,\n    name: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"user_name\",\n    value: formData.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"user_email\",\n    value: formData.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"kayaksTaking\",\n    value: formData.numOfKayaks,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"location\",\n    value: formData.pickUpLocation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"otherLocation\",\n    value: formData.other,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"startTime\",\n    value: formData.time,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, \"pretend pay\")));\n}","map":{"version":3,"sources":["C:/Users/jdk17/Desktop/KingFisher/kingfisher-kayaking/src/Componets/Paypal/Paypal.js"],"names":["React","useRef","useEffect","useState","emailjs","useHistory","firebase","Paypal","formData","priceTotal","paypal","currentUser","setCurrentUser","sendingCart","setSendingCart","history","handleClick","push","total","window","Buttons","createOrder","data","actions","err","order","create","intent","purchase_units","description","amount","currency_code","value","onApprove","capture","console","log","onError","render","current","database","ref","submitHandler","sendEmail","e","preventDefault","sendForm","target","then","result","text","error","route","date","name","email","numOfKayaks","pickUpLocation","other","time"],"mappings":"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","sourcesContent":["import React, {useRef, useEffect, useState} from 'react';\r\nimport emailjs from 'emailjs-com';\r\nimport {useHistory} from 'react-router-dom';\r\nimport firebase from 'firebase';\r\n\r\n\r\nexport default function Paypal( {formData, priceTotal} ) {\r\n    \r\n    const paypal = useRef()\r\n    const [currentUser, setCurrentUser] = useState('no email yet');\r\n    const [sendingCart, setSendingCart] = useState('');\r\n\r\n    //going to success page after payment\r\n    let history = useHistory();\r\n\r\n    function handleClick() {\r\n      history.push(\"/success\");\r\n    }\r\n    \r\n\r\n\r\n\r\n    useEffect(()=> {\r\n\r\n\r\n\r\n        let total = priceTotal\r\n\r\n\r\n\r\n        //sending payment through paypal\r\n        window.paypal.Buttons({\r\n            createOrder: (data, actions, err) => {\r\n                return actions.order.create({\r\n                    intent: 'CAPTURE',\r\n                    purchase_units: [\r\n                        {\r\n                            description: \"Cool and accurate kit\",\r\n                            amount: {\r\n                                currency_code: 'USD',\r\n                                value: 1\r\n                            }  \r\n                        }\r\n                    ]\r\n                })\r\n            },\r\n            onApprove: async (data, actions) => {\r\n                const order = await actions.order.capture()\r\n                console.log(order)\r\n            },\r\n            onError: (err) => {\r\n                console.log(err)\r\n            }\r\n        }).render(paypal.current)\r\n    },[])\r\n\r\n\r\n\r\n\r\n  // firebase requirements\r\n  const database = firebase.database();\r\n  const ref = database.ref('bookings');\r\n\r\n      //submitting form to firebase database\r\n  const submitHandler = () => {\r\n    console.log('booking sent');\r\n    console.log(formData);\r\n\r\n    //sending email\r\n    \r\n\r\n    // pushing data to database\r\n    // ref.push(formData);\r\n  }\r\n\r\n    function sendEmail(e) {\r\n        e.preventDefault();\r\n        console.log('was clicked')\r\n        emailjs.sendForm('service_n7gxrhi', 'template_eay3k5p', e.target, 'user_eKTDTnT6b5suYFim5twvR')\r\n            .then((result) => {\r\n                console.log(result.text);\r\n            }, (error) => {\r\n                console.log(error.text);\r\n            });\r\n    }\r\n\r\n    \r\n    return (\r\n        <div>\r\n            <div ref={paypal} ></div>\r\n            <div>\r\n                <Form>\r\n                    <input type=\"hidden\" value={formData.route} name=\"route\" />\r\n                    <input type=\"hidden\" value={formData.date} name=\"date\" />\r\n                    <input type=\"hidden\" name=\"user_name\" value={formData.name} />\r\n                    <input type=\"hidden\" name=\"user_email\" value={formData.email} />\r\n                    <input type=\"hidden\" name=\"kayaksTaking\" value={formData.numOfKayaks} />\r\n                    <input type=\"hidden\" name=\"location\" value={formData.pickUpLocation} />\r\n                    <input type=\"hidden\" name=\"otherLocation\" value={formData.other} />\r\n                    <input type=\"hidden\" name=\"startTime\" value={formData.time} />\r\n                </Form>\r\n                <button onClick={submitHandler} >pretend pay</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}