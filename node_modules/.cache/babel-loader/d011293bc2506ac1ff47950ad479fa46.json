{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jdk17\\\\Desktop\\\\KingFisher\\\\kingfisher-kayaking\\\\src\\\\Componets\\\\Paypal\\\\Paypal.js\";\nimport React, { useRef, useEffect, useState } from 'react';\nimport emailjs from 'emailjs-com';\nimport { useHistory } from 'react-router-dom';\nimport firebase from 'firebase';\nexport default function Paypal({\n  formData,\n  routeCost\n}) {\n  const paypal = useRef(); //going to success page after payment\n\n  let history = useHistory();\n\n  function handleClick() {\n    history.push(\"/success\");\n  }\n\n  useEffect(() => {\n    let total = formData.numOfKayaks * routeCost; //sending payment through paypal\n\n    window.paypal.Buttons({\n      createOrder: (data, actions, err) => {\n        return actions.order.create({\n          intent: 'CAPTURE',\n          purchase_units: [{\n            description: \"Cool and accurate kit\",\n            amount: {\n              currency_code: 'USD',\n              value: total\n            }\n          }]\n        });\n      },\n      onApprove: async (data, actions) => {\n        const order = await actions.order.capture();\n        console.log(order);\n      },\n      onError: err => {\n        console.log(err);\n      }\n    }).render(paypal.current);\n  }, []); // firebase requirements\n\n  const database = firebase.database();\n  const ref = database.ref('bookings'); //submitting form to firebase database\n\n  const submitHandler = () => {\n    console.log('booking sent to database');\n    console.log(formData); // pushing data to database\n\n    ref.push(formData);\n  };\n\n  function sendEmail(e) {\n    e.preventDefault();\n    console.log('was clicked');\n    submitHandler();\n    emailjs.sendForm('service_n7gxrhi', 'template_eay3k5p', e.target, 'user_eKTDTnT6b5suYFim5twvR').then(result => {\n      console.log(result.text);\n      console.log('was emailed');\n    }, error => {\n      console.log(error.text);\n    });\n    history.push('/success');\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: paypal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: sendEmail,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    value: formData.route,\n    name: \"route\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    value: formData.date,\n    name: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"user_name\",\n    value: formData.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"user_email\",\n    value: formData.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"kayaksTaking\",\n    value: formData.numOfKayaks,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"location\",\n    value: formData.pickUpLocation,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"otherLocation\",\n    value: formData.other,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"startTime\",\n    value: formData.time,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    value: \"send\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 21\n    }\n  }, \"Fake Pay\"))));\n}","map":{"version":3,"sources":["C:/Users/jdk17/Desktop/KingFisher/kingfisher-kayaking/src/Componets/Paypal/Paypal.js"],"names":["React","useRef","useEffect","useState","emailjs","useHistory","firebase","Paypal","formData","routeCost","paypal","history","handleClick","push","total","numOfKayaks","window","Buttons","createOrder","data","actions","err","order","create","intent","purchase_units","description","amount","currency_code","value","onApprove","capture","console","log","onError","render","current","database","ref","submitHandler","sendEmail","e","preventDefault","sendForm","target","then","result","text","error","route","date","name","email","pickUpLocation","other","time"],"mappings":"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","sourcesContent":["import React, {useRef, useEffect, useState} from 'react';\r\nimport emailjs from 'emailjs-com';\r\nimport {useHistory} from 'react-router-dom';\r\nimport firebase from 'firebase';\r\n\r\n\r\nexport default function Paypal( {formData, routeCost} ) {\r\n    \r\n    const paypal = useRef()\r\n    //going to success page after payment\r\n    let history = useHistory();\r\n\r\n    function handleClick() {\r\n      history.push(\"/success\");\r\n    }\r\n    \r\n\r\n\r\n\r\n    useEffect(()=> {\r\n\r\n\r\n\r\n        let total = formData.numOfKayaks*routeCost\r\n\r\n\r\n\r\n        //sending payment through paypal\r\n        window.paypal.Buttons({\r\n            createOrder: (data, actions, err) => {\r\n                return actions.order.create({\r\n                    intent: 'CAPTURE',\r\n                    purchase_units: [\r\n                        {\r\n                            description: \"Cool and accurate kit\",\r\n                            amount: {\r\n                                currency_code: 'USD',\r\n                                value: total\r\n                            }  \r\n                        }\r\n                    ]\r\n                })\r\n            },\r\n            onApprove: async (data, actions) => {\r\n                const order = await actions.order.capture()\r\n                console.log(order)\r\n            },\r\n            onError: (err) => {\r\n                console.log(err)\r\n            }\r\n        }).render(paypal.current)\r\n    },[])\r\n\r\n\r\n\r\n\r\n    // firebase requirements\r\n    const database = firebase.database();\r\n    const ref = database.ref('bookings');\r\n\r\n      //submitting form to firebase database\r\n    const submitHandler = () => {\r\n        console.log('booking sent to database');\r\n        console.log(formData);\r\n        // pushing data to database\r\n        ref.push(formData);\r\n    }\r\n\r\n    function sendEmail(e) {\r\n        e.preventDefault();\r\n        console.log('was clicked')\r\n        submitHandler();\r\n\r\n        emailjs.sendForm('service_n7gxrhi', 'template_eay3k5p', e.target, 'user_eKTDTnT6b5suYFim5twvR')\r\n            .then((result) => {\r\n                console.log(result.text);\r\n                console.log('was emailed')\r\n            }, (error) => {\r\n                console.log(error.text);\r\n            });\r\n\r\n        history.push('/success');\r\n    }\r\n\r\n    \r\n    return (\r\n        <div>\r\n            <div ref={paypal} ></div>\r\n            <div>\r\n                <form onSubmit={sendEmail}>\r\n                    <input type=\"hidden\" value={formData.route} name=\"route\" />\r\n                    <input type=\"hidden\" value={formData.date} name=\"date\" />\r\n                    <input type=\"hidden\" name=\"user_name\" value={formData.name} />\r\n                    <input type=\"hidden\" name=\"user_email\" value={formData.email} />\r\n                    <input type=\"hidden\" name=\"kayaksTaking\" value={formData.numOfKayaks} />\r\n                    <input type=\"hidden\" name=\"location\" value={formData.pickUpLocation} />\r\n                    <input type=\"hidden\" name=\"otherLocation\" value={formData.other} />\r\n                    <input type=\"hidden\" name=\"startTime\" value={formData.time} />\r\n                    <button type=\"submit\" value=\"send\" >Fake Pay</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}